(this["webpackJsonpproduct-support"]=this["webpackJsonpproduct-support"]||[]).push([[0],{46:function(e,t,c){},48:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(9),s=c.n(r),i=(c(46),c(2)),d=c(10),o=c.n(d),j=c(12),l=c(6),u=c(11),b=c(70),O=c(71),h=c(38),m=c(69),x=c(73),p=c(74),g=c(72),f=c.p+"static/media/logo.3997bad4.png",y=c(39),v=(c(48),c(22)),C=c(24),B=c(23),P=c.n(B),E=c(33),N=c.n(E),w=c(0),S=document.getElementById("requestPath").getAttribute("data-server"),I=N()(P.a);function U(e){var t=Object(a.useState)(!1),c=Object(l.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),d=Object(l.a)(s,2),B=d[0],E=d[1],N=Object(a.useState)(!1),U=Object(l.a)(N,2),k=U[0],T=U[1],R=Object(a.useState)(""),q=Object(l.a)(R,2),H=q[0],F=(q[1],Object(a.useState)("")),M=Object(l.a)(F,2),J=M[0],G=M[1],_=Object(a.useState)(""),z=Object(l.a)(_,2),A=z[0],D=z[1],L=Object(a.useState)(),K=Object(l.a)(L,2),Q=K[0],V=K[1],W=Object(a.useState)(),X=Object(l.a)(W,2),Y=X[0],Z=X[1],$=Object(a.useState)(),ee=Object(l.a)($,2),te=ee[0],ce=ee[1],ae=Object(a.useState)(""),ne=Object(l.a)(ae,2),re=ne[0],se=ne[1],ie=Object(a.useState)(""),de=Object(l.a)(ie,2),oe=de[0],je=de[1],le=Object(a.useState)([]),ue=Object(l.a)(le,2),be=ue[0],Oe=ue[1];Object(a.useEffect)((function(){he()}),[]);var he=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),e.next=4,fetch(S+"/admin/getProducts",{headers:t,method:"GET"});case 4:return c=e.sent,e.next=7,c.json();case 7:return a=e.sent,Oe(a),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(o.a.mark((function e(t){var c,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new Headers).append("Content-Type","application/json"),e.next=4,fetch(S+"/api/products/"+t,{method:"PUT",headers:c,body:JSON.stringify({code:document.getElementById("codeUpdate").value,name:document.getElementById("nameUpdate").value,qty:document.getElementById("qtyUpdate").value,price:document.getElementById("priceUpdate").value,realPrice:document.getElementById("realPriceUpdate").value,marca:document.getElementById("marcaUpdate").value,type:document.getElementById("typeUpdate").value})});case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,he(),e.next=11,I.fire({tittle:"<strong>"+n.mssg+"</strong>",html:1===n.status?Object(w.jsx)("i",{children:"Producto modificado"}):Object(w.jsx)("i",{children:"ERROR"}),icon:1===n.status?"success":"error"});case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(j.a)(o.a.mark((function e(){var t,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),e.next=4,fetch(S+"/admin/addProduct",{method:"POST",headers:t,body:JSON.stringify({code:document.getElementById("code").value,name:document.getElementById("name").value,qty:document.getElementById("qty").value,price:document.getElementById("price").value,realPrice:document.getElementById("realPrice").value,marca:document.getElementById("marca").value,type:document.getElementById("type").value})});case 4:return c=e.sent,e.next=7,c.json();case 7:return a=e.sent,he(),e.next=11,I.fire({tittle:"<strong>"+a.mssg+"</strong>",html:1===a.status?Object(w.jsx)("i",{children:"Producto agregado"}):Object(w.jsx)("i",{children:"ERROR"}),icon:1===a.status?"success":"error"});case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function pe(e){return Object(w.jsxs)(u.a,Object(i.a)(Object(i.a)({},e),{},{className:"modal","aria-labelledby":"contained-modal-title-center",children:[Object(w.jsx)(u.a.Header,{closeButton:!0,children:Object(w.jsx)("h1",{children:"Nuevo Producto"})}),Object(w.jsx)(u.a.Body,{className:"modalBody",children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.a,{children:" C\xf3digo de barras *"}),Object(w.jsx)(x.a,{id:"code"}),Object(w.jsx)(m.a,{children:" Nombre *"}),Object(w.jsx)(x.a,{id:"name"}),Object(w.jsx)(m.a,{children:" Cantidad actual *"}),Object(w.jsx)(x.a,{id:"qty",type:"number"}),Object(w.jsx)(m.a,{children:" Precio p\xfablico *"}),Object(w.jsx)(x.a,{id:"price",type:"number"}),Object(w.jsx)(m.a,{children:" Precio real *"}),Object(w.jsx)(x.a,{id:"realPrice",type:"number"}),Object(w.jsx)(m.a,{children:" Marca *"}),Object(w.jsx)(x.a,{id:"marca"}),Object(w.jsx)(m.a,{children:" Tipo *"}),Object(w.jsx)(x.a,{id:"type"})]})}),Object(w.jsx)(u.a.Footer,{children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.a,{variant:"secondary",onClick:function(){E(!1)},children:"Cancelar"}),Object(w.jsx)(p.a,{variant:"primary",onClick:xe,children:"Guardar"})]})})]}))}function ge(e){return Object(w.jsxs)(u.a,Object(i.a)(Object(i.a)({},e),{},{className:"modal","aria-labelledby":"contained-modal-title-center",children:[Object(w.jsx)(u.a.Header,{closeButton:!0,children:Object(w.jsx)("h1",{children:"Modificar Producto"})}),Object(w.jsx)(u.a.Body,{className:"modalBody",children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(m.a,{children:" C\xf3digo de barras *"}),Object(w.jsx)(x.a,{id:"codeUpdate",value:J,onChange:function(e){return G(e.target.value)}}),Object(w.jsx)(m.a,{children:" Nombre *"}),Object(w.jsx)(x.a,{id:"nameUpdate",value:A,onChange:function(e){return D(e.target.value)}}),Object(w.jsx)(m.a,{children:" Cantidad actual *"}),Object(w.jsx)(x.a,{id:"qtyUpdate",type:"number",value:Q,onChange:function(e){return V(e.target.value)}}),Object(w.jsx)(m.a,{children:" Precio p\xfablico *"}),Object(w.jsx)(x.a,{id:"priceUpdate",type:"number",value:Y,onChange:function(e){return Z(e.target.value)}}),Object(w.jsx)(m.a,{children:" Precio real *"}),Object(w.jsx)(x.a,{id:"realPriceUpdate",type:"number",value:te,onChange:function(e){return ce(e.target.value)}}),Object(w.jsx)(m.a,{children:" Marca *"}),Object(w.jsx)(x.a,{id:"marcaUpdate",value:re,onChange:function(e){return se(e.target.value)}}),Object(w.jsx)(m.a,{children:" Tipo *"}),Object(w.jsx)(x.a,{id:"typeUpdate",value:oe,onChange:function(e){return je(e.target.value)}})]})}),Object(w.jsx)(u.a.Footer,{children:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(p.a,{variant:"secondary",children:"Cancelar"}),Object(w.jsx)(p.a,{variant:"primary",onClick:function(){return me(H)},children:"Guardar"})]})})]}))}return Object(w.jsxs)(b.a,{className:"supportProduct",fluid:!0,children:[Object(w.jsxs)(O.a,{className:"row-header",children:[Object(w.jsx)(h.a,{sm:3,md:4,lg:4,children:Object(w.jsx)(g.a,{className:"logo mt-4",src:f})}),Object(w.jsx)(h.a,{sm:7,md:4,lg:4,className:"text-center",children:Object(w.jsx)("h2",{className:"mt-4",children:"Cat\xe1logo de Productos"})}),Object(w.jsx)(h.a,{sm:2,md:4,lg:4,children:Object(w.jsx)(p.a,{style:{float:"right"},className:"button-close mt-4",variant:"primary",href:"/logout",children:"Cerrar sesi\xf3n"})})]}),Object(w.jsx)(O.a,{className:"justify-content-md-end mt-3",children:Object(w.jsx)(h.a,{children:Object(w.jsxs)(p.a,{className:"mb-3 add-product",variant:"light",onClick:function(){E(!0)},children:["Nuevo Producto ",Object(w.jsx)(v.a,{className:"icon-plus",icon:C.a})]})})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(h.a,{children:Object(w.jsxs)(y.a,{className:"table-products",bordered:!0,size:"sm",responsive:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"C\xf3digo de Barras"}),Object(w.jsx)("th",{children:"Nombre"}),Object(w.jsx)("th",{children:"Cantidad actual"}),Object(w.jsx)("th",{children:"Precio p\xfablico"}),Object(w.jsx)("th",{children:"Precio real"}),Object(w.jsx)("th",{children:"Marca"}),Object(w.jsx)("th",{children:"Tipo"}),Object(w.jsx)("th",{children:"Eliminar"})]})}),Object(w.jsx)("tbody",{children:be.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.code}),Object(w.jsx)("td",{children:e.name}),Object(w.jsx)("td",{children:e.qty}),Object(w.jsx)("td",{children:e.price}),Object(w.jsx)("td",{children:e.realPrice}),Object(w.jsx)("td",{children:e.marca}),Object(w.jsx)("td",{children:e.type}),Object(w.jsx)("td",{className:"text-center",children:Object(w.jsx)(p.a,{className:"mb-3 add-product",variant:"light",onClick:function(){return t=e._id,c=e.name,void I.fire({title:"\xbfEstas seguro?",html:"Si elimina este producto <strong class='text-danger'>"+c+"</strong> sera definitivo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!"}).then(function(){var e=Object(j.a)(o.a.mark((function e(c){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConfirmed){e.next=9;break}return e.next=3,fetch(S+"/admin/deleteProduct/"+t,{method:"DELETE"});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,he(),P.a.fire(n.mssg,1===n.status?"<i>Producto eliminado</i>":"<i>ERROR</i>",1===n.status?"success":"error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t,c},children:Object(w.jsx)(v.a,{className:"icon-trash",icon:C.b})})})]},e._id)}))})]})})}),Object(w.jsx)(pe,{show:n,onHide:function(){return r(!1)}}),Object(w.jsx)(pe,{show:B,onHide:function(){return E(!1)}}),Object(w.jsx)(ge,{show:k,onHide:function(){return T(!1)}})]})}c(66);s.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(U,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.bcb10986.chunk.js.map